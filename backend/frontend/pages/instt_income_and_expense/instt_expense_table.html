<!DOCTYPE html>
<html>
<head>
    <title>Expenses Table</title>
    <link href="{{ url_for('static', path='/css/instt_income_and_expense/instt_expense_table.css') }}" rel="stylesheet">

</head>
<body>

<div class="table-container">
    <div id="header"> 
    <h2> Institute Expenses Table </h2>
    </div>

    <div class="search_and_buttons">
        <form action="/account/search_expense" method="POST">
            <!-- INPUTS  -->
            <input type="number" id="right-input" name="id_search" placeholder="Srch ID">
            <input type="text"  name="item_detail" placeholder="Srch By Item">
            <input type="text" id="left-input" name="expense_by" placeholder="Srch By Expense">


            
            <!-- DROP DOWNS -->
            <select name="shift_id" id="shift">
                <option value="">-Shift-</option>
            </select>

            <select name="session_id" id="session">
                <option value="">-Session-</option>
            </select>

            <select name="month_id" id="month">
                <option value="">-Month-</option>
            </select>

            <select name="day_id" id="day">
                <option value="">-Day-</option>
            </select>



            <!-- BUTTONS -->
            <div id="srch-button">
                <button type="submit">Search</button>
                <button type="button" onclick="window.location.href='/account/list_expenses'">Reset</button>
                <a href="/account/expense_form">Add</a>
                <button type="button" onclick="exportExpenses()">Export</button>
                <a href="/expense">Close</a>
            </div>
        </form>
    </div>


    <div class="tablecontainer">
    <table>
        <tr>
            <th>ID</th>
            <th>Item Details</th>
            <th>Expense For</th>
            <th>Expense By</th>
            <th>Shift</th>
            <th>Amount</th>
            <th>Date</th>
            <th>Session</th>
            <th>Month</th>
            <th>Day</th>
            <th>Actions</th>
        </tr>
        {% for r in expenses %}
        <tr>
            <td>{{r.id}}</td>
            <td>{{r.item_detail}}</td>
            <td>{{r.expense_for}}</td>
            <td>{{r.expense_by}}</td>
            <td>{{r.shift}}</td>
            <td>{{r.amount}}</td>
            <td>{{r.date}}</td>
            <td>{{r.session}}</td>
            <td>{{r.month}}</td>
            <td>{{r.day}}</td>
            <td>
                <button onclick="deleteExpenses(
                    '{{ r.id }}', '{{ r.session_id }}',
                    '{{ r.month_id }}', '{{ r.day_id }}',
                )">Delete</button>
            </td>
        </tr>
        {% endfor %}


    </table>
    </div>
</div>
<script src="{{ url_for('static', path='/js/instt_income_and_expense/instt_expense_table.js')}}"></script>
</body>
</html>


