<!DOCTYPE html>
<html>
<head>
    <title>Teacher Salary Form</title>
    <link href="{{ url_for('static', path='/css/teacher_salary/teacher_salary_form.css') }}" rel="stylesheet">

</head>
<body>

<div class="table-container">
    <div id="header"> 
    <h2> Teacher Salary Table </h2>
    </div>

    <div class="tablecontainer">
    <table>
        <tr>
            <th>Payment ID</th>
            <th>Teacher Name</th>
            <th>Father Name</th>
            <th>Department</th>
            <th>Course</th>
            <th>Shift</th>
            <th>Salary Type</th>
            <th>Paid</th>
            <th>Deduction</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>

        {% for s in salary_list_record %}
        <tr>
            <td>{{s.payment_id}}</td>
            <td>{{s.teacher_name}}</td>
            <td>{{s.father_name}}</td>
            <td>{{s.department}}</td>
            <td>{{s.course}}</td>
            <td>{{s.shift}}</td>
            <td>{{s.salary_type}}</td>
            <td>{{s.paid}}</td>
            <td>{{s.deduction}}</td>
            <td>{{s.date}}</td>
            <td>
                <button onclick="updateSalary('{{ s.payment_id }}')">Update</button>
                <button onclick="deleteSalary('{{ s.payment_id }}')">Delete</button>
            </td>
        </tr>
        {% endfor %}
    </table>
    </div>


    <div>
        <form action="/salary/add_salary" method="POST">
            <div class="form-popup" id="teacherSalaryForm">
                <div class="form-container">
                    <h2>Teacher Salary Form</h2>

                    <input type="hidden" name="teacher_id" id="teacher_id" value="{{ form_info.teacher_id }}">
                    <input type="hidden" name="department_id" id="department_id" value="{{ form_info.department_id }}">
                    <input type="hidden" name="course_id" id="course_id" value="{{ form_info.course_id }}">
                    <input type="hidden" name="shift_id" id="shift_id" value="{{ form_info.shift_id }}">
                    <input type="hidden" name="teacher_name" id="teacher_name" value="{{ form_info.teacher_name }}">
                    <input type="hidden" name="father_name" id="father_name" value="{{ form_info.father_name }}">
                    <input type="hidden" name="department_name" id="department_name" value="{{ form_info.department_name }}">
                    <input type="number" name="salary" value="{{ form_info.salary }}" readonly>

                    <label><b>Salary Entries</b></label>
                    <div id="fee-entries-container">
                        <div class="fee-entry">
                            <select name="salary_types[]" class="payment_type" required></select>
                            <input type="number" name="paid_salaries[]" placeholder="Paid Salary" required>
                            <input type="number" name="deductions[]" placeholder="Deduction">

                            <button type="button" class="remove-entry" onclick="removeEntry(this)">x</button>
                        </div>
                    </div>
                            <button type="button" class="add-entry" onclick="addEntry()">+</button>

                    <div class="btn">
                        <button type="submit">Submit</button>
                        <button type="button" class="cancel" onclick="closeForm()">Close</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="{{ url_for('static', path='/js/teacher_salary/teacher_salary_form.js')}}"></script>
</body>
</html>


